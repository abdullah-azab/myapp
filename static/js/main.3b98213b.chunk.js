(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{19:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},21:function(t,e,n){t.exports=n(43)},26:function(t,e,n){},27:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n.n(a),s=n(18),r=n.n(s),c=(n(26),n(3)),o=n(7),u=n(9),l=n(8),d=n(6),h=n(10),p=n(19),m=n.n(p),f=(n(27),n(28),function t(){Object(c.a)(this,t),this.getProducts=function(){return new Promise((function(t,e){fetch("http://localhost:3004/product").then((function(e){t(e.json())}))}))}}),b=(n(29),null),v={},O=function t(){return Object(c.a)(this,t),this.postNotification=function(t,e){for(var n=v[t],a=0;a<n.length;a++){n[a].callBack(e)}},this.addObserver=function(t,e,n){v[t]||(v[t]=[]);var a={observer:e,callBack:n};v[t].push(a)},this.removeObserver=function(t,e){var n=v[e];if(n)for(var a=0;a<n.length;a++)if(t===n[a].observer){n.splice(a,1),v[e]=n;break}},b||(b=this),b},g=new O,j=null,L=[],w=function t(){return Object(c.a)(this,t),this.itemOnWishList=function(t){for(var e=0;e<L.length;e++)if(L[e]._id===t._id)return!0;return!1},this.addWishListItem=function(t){L.push(t),g.postNotification("notif_wishlist_changed",L)},this.removeWishListItem=function(t){for(var e=0;e<L.length;e++)if(L[e]._id===t._id){L.splice(e,1),g.postNotification("notif_wishlist_changed",L);break}},j||(j=this),j},W=new w,E=new O,k=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).onButtonClicked=function(){n.state.onWishList?W.removeWishListItem(n.props.product):W.addWishListItem(n.props.product)},n.state={onWishList:W.itemOnWishList()},n.onButtonClicked=n.onButtonClicked.bind(Object(d.a)(n)),n.onWishListChanged=n.onWishListChanged.bind(Object(d.a)(n)),n}return Object(h.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){E.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){E.removeObserver(this,"notif_wishlist_changed")}},{key:"onWishListChanged",value:function(t){this.setState({onWishList:W.itemOnWishList(this.props.product)})}},{key:"render",value:function(){var t,e=this;return t=this.state.onWishList?"btn btn-danger":"btn btn-primary",i.a.createElement("div",{className:"card product"},i.a.createElement("img",{className:"card-img-top",src:this.props.product.imgUrl,alt:"Product"}),i.a.createElement("div",{className:"card-block"},i.a.createElement("h4",{className:"card-title"},this.props.product.title),i.a.createElement("p",{className:"card-text"},"price:",this.props.product.price," $"),i.a.createElement("a",{href:"#top",onClick:function(){return e.onButtonClicked()},className:t},this.state.onWishList?"Remove From Wishlist":"Add to Cart"," ")))}}]),e}(a.Component),N=(n(30),n(31),new w),y=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).removeProduct=function(){N.removeWishListItem(n.props.product)},n.removeProduct=n.removeProduct.bind(Object(d.a)(n)),n}return Object(h.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("li",{className:"list-group-item pc-condensed"},i.a.createElement("a",{href:"#top",className:"btn btn-outline-danger",onClick:function(){return t.removeProduct()}},"X"),i.a.createElement("p",null,this.props.product.title," | ",i.a.createElement("b",null,"$",this.props.product.price)))}}]),e}(a.Component),C=new O,_=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).createWishList=function(){return n.state.wishList.map((function(t){return i.a.createElement(y,{product:t,key:t._id})}))},n.state={wishList:[]},n.createWishList=n.createWishList.bind(Object(d.a)(n)),n.onWishListChanged=n.onWishListChanged.bind(Object(d.a)(n)),n}return Object(h.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){C.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){C.removeObserver(this,"notif_wishlist_changed")}},{key:"onWishListChanged",value:function(t){this.setState({wishList:t})}},{key:"render",value:function(){return i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"card-block"},i.a.createElement("h4",{className:"card-title"},"wish list"),i.a.createElement("ul",{className:"list-group"},this.createWishList())))}}]),e}(a.Component),B=n(14),I=n.n(B),D=n(15),P=n.n(D);P.a.initializeApp({apiKey:"AIzaSyDU1r9frSeyL-Qn5-jEfY6OSK-dAW6jDBo",authDomain:"test-proj-4a7ea.firebaseapp.com",databaseURL:"https://test-proj-4a7ea.firebaseio.com",projectId:"test-proj-4a7ea",storageBucket:"test-proj-4a7ea.appspot.com",messagingSenderId:"621961134897",appId:"1:621961134897:web:41146a7a289d17feefe610"});var A=P.a,S=function t(){Object(c.a)(this,t),this.getProducts=function(){return function(){var t,e,n;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=A.firestore(),a.next=3,I.a.awrap(t.collection("products").get());case 3:return e=a.sent,n=e.docs.map((function(t){return t.data()})),a.abrupt("return",n);case 6:case"end":return a.stop()}}))}()}},x=(new f,new S),U=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).loadData=function(){var t=Object(d.a)(n);x.getProducts().then((function(e){t.setState({products:e})}),(function(t){}))},n.productList=function(){return n.state.products.map((function(t){return i.a.createElement("div",{className:"col-sm-4",key:t._id},i.a.createElement(k,{product:t}))}))},n.state={products:[]},n.loadData=n.loadData.bind(Object(d.a)(n)),n.productList=n.productList.bind(Object(d.a)(n)),n.loadData(),n}return Object(h.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),i.a.createElement("p",null,"Hello world.")),i.a.createElement("div",{className:"container-fluid App-main "},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-8"},i.a.createElement("div",{className:"row"},this.productList())),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement(_,null)))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.3b98213b.chunk.js.map