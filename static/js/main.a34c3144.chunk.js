(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],[,,,,,,,,,function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(t,e,n){t.exports=n(21)},,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),s=n(8),c=n.n(s),o=(n(15),n(1)),r=n(3),l=n(5),u=n(4),h=n(2),d=n(6),m=n(9),p=n.n(m),f=(n(16),n(17),function t(){Object(o.a)(this,t),this.getProducts=function(){return new Promise((function(t,e){fetch("http://localhost:3004/product").then((function(e){t(e.json())}))}))}}),b=(n(18),null),v={},O=function t(){return Object(o.a)(this,t),this.postNotification=function(t,e){for(var n=v[t],i=0;i<n.length;i++){n[i].callBack(e)}},this.addObserver=function(t,e,n){v[t]||(v[t]=[]);var i={observer:e,callBack:n};v[t].push(i)},this.removeObserver=function(t,e){var n=v[e];if(n)for(var i=0;i<n.length;i++)if(t===n[i].observer){n.splice(i,1),v[e]=n;break}},b||(b=this),b},g=new O,j=null,L=[],W=function t(){return Object(o.a)(this,t),this.itemOnWishList=function(t){for(var e=0;e<L.length;e++)if(L[e]._id===t._id)return!0;return!1},this.addWishListItem=function(t){L.push(t),g.postNotification("notif_wishlist_changed",L)},this.removeWishListItem=function(t){for(var e=0;e<L.length;e++)if(L[e]._id===t._id){L.splice(e,1),g.postNotification("notif_wishlist_changed",L);break}},j||(j=this),j},E=new W,k=new O,w=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).onButtonClicked=function(){n.state.onWishList?E.removeWishListItem(n.props.product):E.addWishListItem(n.props.product)},n.state={onWishList:E.itemOnWishList()},n.onButtonClicked=n.onButtonClicked.bind(Object(h.a)(n)),n.onWishListChanged=n.onWishListChanged.bind(Object(h.a)(n)),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){k.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){k.removeObserver(this,"notif_wishlist_changed")}},{key:"onWishListChanged",value:function(t){this.setState({onWishList:E.itemOnWishList(this.props.product)})}},{key:"render",value:function(){var t,e=this;return t=this.state.onWishList?"btn btn-danger":"btn btn-primary",a.a.createElement("div",{className:"card product"},a.a.createElement("img",{className:"card-img-top",src:this.props.product.imgUrl,alt:"Product"}),a.a.createElement("div",{className:"card-block"},a.a.createElement("h4",{className:"card-title"},this.props.product.title),a.a.createElement("p",{className:"card-text"},"price:",this.props.product.price," $"),a.a.createElement("a",{href:"#top",onClick:function(){return e.onButtonClicked()},className:t},this.state.onWishList?"Remove From Wishlist":"Add to Cart"," ")))}}]),e}(i.Component),N=(n(19),n(20),new W),C=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).removeProduct=function(){N.removeWishListItem(n.props.product)},n.removeProduct=n.removeProduct.bind(Object(h.a)(n)),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("li",{className:"list-group-item pc-condensed"},a.a.createElement("a",{href:"#top",className:"btn btn-outline-danger",onClick:function(){return t.removeProduct()}},"X"),a.a.createElement("p",null,this.props.product.title," | ",a.a.createElement("b",null,"$",this.props.product.price)))}}]),e}(i.Component),_=new O,y=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).createWishList=function(){return n.state.wishList.map((function(t){return a.a.createElement(C,{product:t,key:t._id})}))},n.state={wishList:[]},n.createWishList=n.createWishList.bind(Object(h.a)(n)),n.onWishListChanged=n.onWishListChanged.bind(Object(h.a)(n)),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){_.addObserver("notif_wishlist_changed",this,this.onWishListChanged)}},{key:"componentWillUnmount",value:function(){_.removeObserver(this,"notif_wishlist_changed")}},{key:"onWishListChanged",value:function(t){this.setState({wishList:t})}},{key:"render",value:function(){return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card-block"},a.a.createElement("h4",{className:"card-title"},"wish list"),a.a.createElement("ul",{className:"list-group"},this.createWishList())))}}]),e}(i.Component),B=new f,P=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).loadData=function(){var t=Object(h.a)(n);B.getProducts().then((function(e){t.setState({products:e})}),(function(t){}))},n.productList=function(){return n.state.products.map((function(t){return a.a.createElement("div",{className:"col-sm-4",key:t._id},a.a.createElement(w,{product:t}))}))},n.state={products:[]},n.loadData=n.loadData.bind(Object(h.a)(n)),n.productList=n.productList.bind(Object(h.a)(n)),n.loadData(),n}return Object(d.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),a.a.createElement("p",null,"Hello world.")),a.a.createElement("div",{className:"container-fluid App-main "},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-sm-8"},a.a.createElement("div",{className:"row"},this.productList())),a.a.createElement("div",{className:"col-sm-4"},a.a.createElement(y,null)))))}}]),e}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.a34c3144.chunk.js.map